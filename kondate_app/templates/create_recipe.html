{% extends 'base.html' %}
{% load widget_tweaks %}
{% load static %}

{% block title %}新規作成{% endblock %}

{% block contents %}
<div class="container">
    <div class="row">
        <div class="my-div-style w-50" style="margin-top: 100px;">
            <h2 class="m-4">レシピを登録</h2>
            <form method="post" enctype="multipart/form-data">
                <table class="table">

                    {{ ingredient_formsets.non_form_errors }}
                    {{ form.non_field_errors }}


                <!--form-->
                    <div class="form-group row">
                        <label for="{{ form.name.id_for_label }}" class="col-sm-3 col-form-label">レシピ名：</label>
                        <div class="col-sm-9">
                            <span class="help-block">{{ error }}</span>
                            {{ form.name|add_class:'form-name' }}

                        </div>
                    </div>

<!--                    <div class="form-group row">-->
<!--                        <label for="{{ form.date.id_for_label }}" class="col-sm-3 col-form-label">日時：</label>-->
<!--                        <div class="col-sm-9">-->
<!--                            <span class="help-block">{{ error }}</span>-->
<!--                            {{ form.date|add_class:'form-date' }}-->
<!--                        </div>-->
<!--                    </div>-->

                    <div class="form-group row">
                        <label for="{{ form.image.id_for_label }}" class="col-sm-3 col-form-label">写真：</label>
                        <div class="col-sm-9">
                            <span class="help-block">{{ error }}</span>
                            {{ form.image|add_class:'form-image' }}
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="{{ form.comment.id_for_label }}" class="col-sm-3 col-form-label">コメント：</label>
                        <div class="col-sm-9">
                            <span class="help-block">{{ error }}</span>
                            {{ form.comment|add_class:'form-comment' }}
                        </div>
                    </div>

<!--                    <div class="form-group row">-->
<!--                        <label for="{{ form.category.id_for_label }}" class="col-sm-3 col-form-label">カテゴリ：</label>-->
<!--                        <div class="col-sm-9">-->
<!--                            <span class="help-block">{{ error }}</span>-->
<!--                            {{ form.category|add_class:'class-name' }}-->
<!--                        </div>-->
<!--                    </div>-->


                <!--ingredient_formset-->
                    {% for ingredient_formset in ingredient_formsets %}
                    <div class="form-group row">
                        <label for="{{ ingredient_formset.name.id_for_label }}" class="col-sm-3 col-form-label">材料：</label>
                        {{ ingredient_formset.name|add_class:'ingredient_formset-name' }}
                    <!--{{ form.name.errors }}-->
                    </div>

                    <div class="form-group row">
                        <label for="{{ ingredient_formset.amount.id_for_label }}"  class="col-sm-3 col-form-label">数量：</label>
                        {{ ingredient_formset.amount|add_class:'ingredient_formset-amount' }}
                    <!--{{ form.amount.errors }}-->
                    </div>
                    {% endfor %}

                     {% for ingredient_field in ingredient_formset.hidden_fields %}
                        {{ ingredient_field }}
                    {% endfor %}

                    {{ ingredient_formsets.management_form }}

                <!--process_formset-->

                    {% for process_formset in process_formsets %}
                    <div class="form-group row">
                        <label for="{{ process_formset.name.id_for_label }}" class="col-sm-3 col-form-label">作り方：</label>
                        {{ process_formset.process|add_class:'process_formset-process' }}
                    <!--{{ form.name.errors }}-->
                    </div>

<!--                    <div class="form-group row">-->
<!--                        <label for="{{ process_formset.amount.id_for_label }}"  class="col-sm-3 col-form-label">数量：</label>-->
<!--                        {{ process_formset.number|add_class:'process_formset-number' }}-->
<!--                    &lt;!&ndash;{{ form.amount.errors }}&ndash;&gt;-->
<!--                    </div>-->
                    {% endfor %}

                     {% for process_field in process_formset.hidden_fields %}
                        {{ process_field }}
                    {% endfor %}

                    {{ process_formsets.management_form }}


                    {% csrf_token %}
                </table>
                <button class="btn btn-primary" type="submit">
                    作成
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}